<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–¢–µ—Å—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ñ–æ—Ä–º—ã</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 800px;
      margin: 50px auto;
      padding: 20px;
    }
    .test-section {
      margin: 20px 0;
      padding: 15px;
      border: 1px solid #ddd;
      border-radius: 8px;
    }
    .test-pass {
      color: green;
    }
    .test-fail {
      color: red;
    }
    button {
      padding: 10px 20px;
      background: #4CAF50;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 16px;
    }
    button:hover {
      background: #45a049;
    }
    #results {
      margin-top: 20px;
      padding: 15px;
      background: #f5f5f5;
      border-radius: 8px;
    }
    .test-item {
      margin: 10px 0;
      padding: 8px;
      background: white;
      border-radius: 4px;
    }
  </style>
</head>
<body>
  <h1>üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ñ–æ—Ä–º—ã OrderForm</h1>
  
  <div class="test-section">
    <h2>–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</h2>
    <p>–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ç–µ—Å—Ç–æ–≤ –≤–∞–ª–∏–¥–∞—Ü–∏–∏:</p>
    <button onclick="runTests()">–ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã</button>
    <div id="results"></div>
  </div>

  <div class="test-section">
    <h2>–†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</h2>
    <p>–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12) –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:</p>
    <code>testValidation()</code>
  </div>

  <script>
    // –õ–æ–≥–∏–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (–∫–æ–ø–∏—è –∏–∑ OrderForm.vue)
    function validateField(field, value, touched) {
      if (!touched) return '';
      
      switch(field) {
        case 'name':
          return (!value || value.trim() === '') ? '–í–≤–µ–¥–∏—Ç–µ –∏–º—è' : '';
        case 'phone':
          return (!value || value.trim() === '') ? '–í–≤–µ–¥–∏—Ç–µ —Ç–µ–ª–µ—Ñ–æ–Ω' : '';
        case 'email':
          if (!value || value.trim() === '') {
            return '–í–≤–µ–¥–∏—Ç–µ e-mail';
          }
          if (!value.includes('@') || !value.includes('.')) {
            return '–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π e-mail';
          }
          return '';
        case 'address':
          return (!value || value.trim() === '') ? '–í–≤–µ–¥–∏—Ç–µ –∞–¥—Ä–µ—Å' : '';
        case 'agree':
          return !value ? '–ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–≥–ª–∞—Å–∏–µ' : '';
        default:
          return '';
      }
    }

    // –¢–µ—Å—Ç—ã
    const tests = [
      {
        name: '–ü—É—Å—Ç–æ–µ –∏–º—è –ø–æ—Å–ª–µ blur',
        field: 'name',
        value: '',
        touched: true,
        expected: '–í–≤–µ–¥–∏—Ç–µ –∏–º—è'
      },
      {
        name: '–ó–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ–µ –∏–º—è',
        field: 'name',
        value: '–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤',
        touched: true,
        expected: ''
      },
      {
        name: '–ò–º—è —Ç–æ–ª—å–∫–æ —Å –ø—Ä–æ–±–µ–ª–∞–º–∏',
        field: 'name',
        value: '   ',
        touched: true,
        expected: '–í–≤–µ–¥–∏—Ç–µ –∏–º—è'
      },
      {
        name: 'Email –±–µ–∑ @',
        field: 'email',
        value: 'testmail.com',
        touched: true,
        expected: '–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π e-mail'
      },
      {
        name: '–ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email',
        field: 'email',
        value: 'test@mail.com',
        touched: true,
        expected: ''
      },
      {
        name: 'Email –±–µ–∑ —Ç–æ—á–∫–∏',
        field: 'email',
        value: 'test@mail',
        touched: true,
        expected: '–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π e-mail'
      },
      {
        name: '–û—à–∏–±–∫–∞ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –¥–æ blur',
        field: 'name',
        value: '',
        touched: false,
        expected: ''
      },
      {
        name: '–ü—É—Å—Ç–æ–π —Ç–µ–ª–µ—Ñ–æ–Ω',
        field: 'phone',
        value: '',
        touched: true,
        expected: '–í–≤–µ–¥–∏—Ç–µ —Ç–µ–ª–µ—Ñ–æ–Ω'
      },
      {
        name: '–ó–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω',
        field: 'phone',
        value: '+7 (999) 999-99-99',
        touched: true,
        expected: ''
      },
      {
        name: '–ù–µ–æ—Ç–º–µ—á–µ–Ω–Ω—ã–π —á–µ–∫–±–æ–∫—Å',
        field: 'agree',
        value: false,
        touched: true,
        expected: '–ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–≥–ª–∞—Å–∏–µ'
      },
      {
        name: '–û—Ç–º–µ—á–µ–Ω–Ω—ã–π —á–µ–∫–±–æ–∫—Å',
        field: 'agree',
        value: true,
        touched: true,
        expected: ''
      },
      {
        name: '–ü—É—Å—Ç–æ–π –∞–¥—Ä–µ—Å',
        field: 'address',
        value: '',
        touched: true,
        expected: '–í–≤–µ–¥–∏—Ç–µ –∞–¥—Ä–µ—Å'
      },
      {
        name: '–ó–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–π –∞–¥—Ä–µ—Å',
        field: 'address',
        value: '–ú–æ—Å–∫–≤–∞, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 1',
        touched: true,
        expected: ''
      }
    ];

    function runTests() {
      const resultsDiv = document.getElementById('results');
      resultsDiv.innerHTML = '<h3>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:</h3>';
      
      let passed = 0;
      let failed = 0;

      tests.forEach(test => {
        const result = validateField(test.field, test.value, test.touched);
        const passed = result === test.expected;
        
        if (passed) {
          passed++;
        } else {
          failed++;
        }

        const testDiv = document.createElement('div');
        testDiv.className = 'test-item';
        testDiv.innerHTML = `
          <strong>${passed ? '‚úÖ' : '‚ùå'} ${test.name}</strong><br>
          –ü–æ–ª–µ: ${test.field}, –ó–Ω–∞—á–µ–Ω–∏–µ: "${test.value}", Touched: ${test.touched}<br>
          –û–∂–∏–¥–∞–ª–æ—Å—å: "${test.expected}"<br>
          –ü–æ–ª—É—á–µ–Ω–æ: "${result}"<br>
          <span class="${passed ? 'test-pass' : 'test-fail'}">
            ${passed ? '–ü–†–û–®–ï–õ' : '–ü–†–û–í–ê–õ–ï–ù'}
          </span>
        `;
        resultsDiv.appendChild(testDiv);
      });

      const summary = document.createElement('div');
      summary.style.marginTop = '20px';
      summary.style.padding = '15px';
      summary.style.background = failed === 0 ? '#d4edda' : '#f8d7da';
      summary.style.border = `1px solid ${failed === 0 ? '#c3e6cb' : '#f5c6cb'}`;
      summary.style.borderRadius = '4px';
      summary.innerHTML = `
        <h3>üìä –ò—Ç–æ–≥–æ: ${passed} –ø—Ä–æ—à–ª–æ, ${failed} –ø—Ä–æ–≤–∞–ª–µ–Ω–æ –∏–∑ ${tests.length}</h3>
        ${failed === 0 ? '<p style="color: green; font-weight: bold;">üéâ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ!</p>' : '<p style="color: red; font-weight: bold;">‚ö†Ô∏è –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–≤–∞–ª–∏–ª–∏—Å—å</p>'}
      `;
      resultsDiv.appendChild(summary);
    }

    // –≠–∫—Å–ø–æ—Ä—Ç –¥–ª—è –∫–æ–Ω—Å–æ–ª–∏
    window.testValidation = function() {
      console.log('üß™ –ù–∞—á–∞–ª–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ñ–æ—Ä–º—ã\n');
      let passed = 0;
      let failed = 0;

      tests.forEach(test => {
        const result = validateField(test.field, test.value, test.touched);
        const testPassed = result === test.expected;
        
        if (testPassed) {
          passed++;
          console.log(`‚úÖ ${test.name}`);
        } else {
          failed++;
          console.error(`‚ùå ${test.name}`);
          console.error(`   –û–∂–∏–¥–∞–ª–æ—Å—å: "${test.expected}"`);
          console.error(`   –ü–æ–ª—É—á–µ–Ω–æ: "${result}"`);
        }
      });

      console.log(`\nüìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã: ${passed} –ø—Ä–æ—à–ª–æ, ${failed} –ø—Ä–æ–≤–∞–ª–µ–Ω–æ –∏–∑ ${tests.length}`);
      
      if (failed === 0) {
        console.log('üéâ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ!');
      } else {
        console.log('‚ö†Ô∏è –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–≤–∞–ª–∏–ª–∏—Å—å');
      }

      return { passed, failed, total: tests.length };
    };

    console.log('üí° –¢–µ—Å—Ç—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã. –î–ª—è –∑–∞–ø—É—Å–∫–∞:');
    console.log('   - –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã"');
    console.log('   - –ò–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª–∏: testValidation()');
  </script>
</body>
</html>

